<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Preapply saved theme to avoid flicker -->
  <script>
    (function(){
      try {
        var theme = localStorage.getItem('theme');
        if (theme === 'dark') {
          document.documentElement.classList.add('dark');
          if (document.body) document.body.classList.add('dark');
          else document.addEventListener('DOMContentLoaded', function(){ document.body.classList.add('dark'); });
        }
      } catch(e){}
    })();
  </script>

  <!-- SEO -->
  <title>Image Converter ‚Äî Convert Labs</title>
  <meta name="description" content="Free online image converter ‚Äî convert JPG, PNG, and WEBP formats locally in your browser with Convert Labs. No uploads, no tracking." />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://convertlabs.online/tools/image-converter.html" />

  <!-- Icons & CSS -->
  <link rel="icon" href="/assets/convert-labs-icon.png" />
  <link rel="stylesheet" href="/style.css" />

  <!-- Open Graph -->
  <meta property="og:title" content="Image Converter ‚Äî Convert Labs" />
  <meta property="og:description" content="Convert JPG, PNG and WEBP images instantly in your browser ‚Äî private and local with Convert Labs." />
  <meta property="og:image" content="https://convertlabs.online/assets/image-converter.jpg" />
  <meta property="og:url" content="https://convertlabs.online/tools/image-converter.html" />
  <meta property="og:type" content="website" />

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://convertlabs.online/"},
      {"@type":"ListItem","position":2,"name":"Tools","item":"https://convertlabs.online/tools/tools.html"},
      {"@type":"ListItem","position":3,"name":"Image Converter"}
    ]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebPage",
    "name":"Image Converter ‚Äî Convert Labs",
    "url":"https://convertlabs.online/tools/image-converter.html",
    "description":"Convert JPG, PNG and WEBP images instantly in your browser ‚Äî private, fast, and secure (no uploads)."
  }
  </script>

  <!-- AdSense & Google Analytics -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2490597435056272" crossorigin="anonymous"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z88B03WV7P"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Z88B03WV7P');
  </script>

  <style>
    /* small inline styles for functionality; move to style.css if desired */
    .drop-zone {
      border: 2px dashed #2563eb;
      border-radius: 10px;
      padding: 1rem;
      text-align: center;
      margin-top: 1rem;
      color: gray;
      position: relative;
      transition: background .15s ease, border-color .15s ease;
      cursor: pointer;
    }
    .drop-zone.dragover { background: #e0e7ff; border-color: #1e40af; }
    body.dark .drop-zone { border-color: #60a5fa; color: #e6eefc; background: rgba(96,165,250,0.04); }
    #convertMsg { margin-top: 8px; font-weight: 600; }
    input[type="file"].full-cover { opacity:0; position:absolute; inset:0; width:100%; height:100%; cursor:pointer; }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="navbar">
    <div class="nav-container">
      <div class="logo">
        <a href="/index.html">
          <img src="https://convertlabs.online/assets/convert-labs-icon.png" alt="Convert Labs Icon" class="logo-img" />
          <span class="brand-text">Convert Labs</span>
        </a>
      </div>
      <nav class="nav-links">
        <ul>
          <li><a href="https://convertlabs.online/index.html">Home</a></li>
          <li><a href="https://convertlabs.online/tools/tools.html" class="active">Tools</a></li>
          <li><a href="https://convertlabs.online/guides.html">Blog</a></li>
          <li><a href="https://convertlabs.online/about.html">About</a></li>
          <li><a href="https://convertlabs.online/contact.html">Contact</a></li>
        </ul>
      </nav>
      <button id="themeToggle" class="theme-toggle" title="Switch Theme">üåô</button>
    </div>
  </header>

  <!-- Main -->
  <main class="tool-page" style="max-width:900px;margin:auto;padding:2rem 1rem;">
    <h1>Image Converter</h1>
    <p>Convert JPG, PNG and WEBP images locally in your browser ‚Äî fast, private, and no uploads.</p>

    <section style="margin-top:1.5rem;">
      <h2>Interactive Image Converter</h2>
      <p>Select or drag an image into the area below:</p>

      <!-- Drop zone with hidden input covering it -->
      <div id="dropZone" class="drop-zone" role="button" tabindex="0">
        üìÇ Click or drag & drop an image here
        <input class="full-cover" type="file" id="imageInput" accept="image/*" aria-label="Upload image" />
      </div>

      <div style="margin-top:1rem;">
        <select id="formatSelect" aria-label="Select output format">
          <option value="image/jpeg">JPG</option>
          <option value="image/png">PNG</option>
          <option value="image/webp">WEBP</option>
        </select>
        <button id="convertBtn" class="send-btn" style="margin-left:8px;">Convert Image</button>
      </div>
    </section>

    <!-- Preview & download -->
    <section id="previewSection" style="display:none; margin-top:2rem;">
      <h2>Preview & Download</h2>
      <div style="display:flex;flex-wrap:wrap;gap:25px;justify-content:center;">
        <div style="max-width:320px;width:100%;">
          <p><b>Original</b></p>
          <img id="originalImg" alt="Original preview" style="max-width:300px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.12);" />
        </div>
        <div style="max-width:320px;width:100%;">
          <p><b>Converted</b></p>
          <img id="convertedImg" alt="Converted preview" style="max-width:300px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.12);" />
        </div>
      </div>
      <a id="downloadLink" download="converted-image" class="send-btn" style="margin-top:20px;display:inline-block;">Download Converted Image</a>
      <p id="convertMsg"></p>
    </section>
  </main>

  <!-- Footer (full links) -->
  <footer class="footer" style="margin-top:2rem;">
    <div class="footer-brand">
      <img src="https://convertlabs.online/assets/convert-labs-icon.png" alt="Convert Labs Icon" class="footer-logo" style="height:28px;">
      <span class="footer-text">Convert Labs</span>
    </div>
    <p>¬© 2025 Convert Labs. All rights reserved.</p>
    <nav class="footer-links">
      <a href="https://convertlabs.online/about.html">About</a> |
      <a href="https://convertlabs.online/tools/tools.html">Tools</a> |
      <a href="https://convertlabs.online/guides.html">Blog</a> |
      <a href="https://convertlabs.online/privacy.html">Privacy Policy</a> |
      <a href="https://convertlabs.online/disclaimer.html">Disclaimer</a> |
      <a href="https://convertlabs.online/terms.html">Terms of Use</a> |
      <a href="https://convertlabs.online/contact.html">Contact</a>
    </nav>
  </footer>

  <!-- Page script: theme toggle, drag & drop, conversion (no GIF) -->
  <script>
  (function(){
    const input = document.getElementById("imageInput");
    const dropZone = document.getElementById("dropZone");
    const convertBtn = document.getElementById("convertBtn");
    const formatSelect = document.getElementById("formatSelect");
    const preview = document.getElementById("previewSection");
    const originalImg = document.getElementById("originalImg");
    const convertedImg = document.getElementById("convertedImg");
    const downloadLink = document.getElementById("downloadLink");
    const convertMsg = document.getElementById("convertMsg");
    const themeToggle = document.getElementById("themeToggle");

    let originalDataURL = null;
    let originalFileSize = 0;

    // Theme toggle (apply & persist)
    function applyTheme(isDark){
      if(isDark){ document.documentElement.classList.add('dark'); document.body.classList.add('dark'); themeToggle.textContent='‚òÄÔ∏è'; }
      else { document.documentElement.classList.remove('dark'); document.body.classList.remove('dark'); themeToggle.textContent='üåô'; }
    }
    applyTheme(localStorage.getItem('theme') === 'dark');
    themeToggle.addEventListener('click', () => {
      const nowDark = document.documentElement.classList.toggle('dark');
      document.body.classList.toggle('dark', nowDark);
      localStorage.setItem('theme', nowDark ? 'dark' : 'light');
      themeToggle.textContent = nowDark ? '‚òÄÔ∏è' : 'üåô';
    });

    // Drag & drop visual feedback
    ['dragenter','dragover'].forEach(e => {
      dropZone.addEventListener(e, ev => { ev.preventDefault(); dropZone.classList.add('dragover'); });
    });
    ['dragleave','drop'].forEach(e => {
      dropZone.addEventListener(e, ev => { ev.preventDefault(); dropZone.classList.remove('dragover'); });
    });

    // Drop handler
    dropZone.addEventListener('drop', ev => {
      const f = ev.dataTransfer.files && ev.dataTransfer.files[0];
      if (f) handleFile(f);
    });

    // File input change
    input.addEventListener('change', ev => {
      const f = ev.target.files && ev.target.files[0];
      if (f) handleFile(f);
    });

    // keyboard accessibility for drop zone
    dropZone.addEventListener('keydown', ev => {
      if (ev.key === 'Enter' || ev.key === ' ') {
        ev.preventDefault();
        input.click();
      }
    });

    function handleFile(file) {
      if (!file || !file.type.startsWith('image/')) { alert('Please upload a valid image file.'); return; }
      originalFileSize = file.size || 0;
      const reader = new FileReader();
      reader.onload = e => {
        originalDataURL = e.target.result;
        originalImg.src = originalDataURL;
        preview.style.display = 'block';
        convertedImg.src = '';
        downloadLink.href = '';
        convertMsg.textContent = `Original size: ${(originalFileSize/1024).toFixed(1)} KB`;
      };
      reader.readAsDataURL(file);
    }

    // helpers
    function dataURLBytes(dataURL) {
      const idx = dataURL.indexOf(',');
      if (idx === -1) return 0;
      const base64 = dataURL.slice(idx+1);
      const padding = base64.endsWith('==') ? 2 : (base64.endsWith('=') ? 1 : 0);
      return Math.ceil((base64.length * 3) / 4) - padding;
    }
    function humanSize(bytes) {
      if (!bytes) return '0 B';
      if (bytes < 1024) return bytes + ' B';
      if (bytes < 1024*1024) return (bytes/1024).toFixed(1) + ' KB';
      return (bytes/(1024*1024)).toFixed(2) + ' MB';
    }

    // Conversion (JPG/PNG/WEBP)
    convertBtn.addEventListener('click', () => {
      if (!originalDataURL) { alert('Please upload or drop an image first.'); return; }

      const target = formatSelect.value || 'image/png';
      const img = new Image();
      img.onload = () => {
        try {
          const canvas = document.createElement('canvas');
          const ctx = canvas.getContext('2d');
          canvas.width = img.width; canvas.height = img.height;
          ctx.drawImage(img, 0, 0);

          let convertedData = null;
          try {
            convertedData = canvas.toDataURL(target, 0.95);
            if (!convertedData || !convertedData.startsWith('data:')) convertedData = null;
          } catch (err) {
            convertedData = null;
          }

          if (!convertedData) {
            // fallback to PNG
            convertedData = canvas.toDataURL('image/png', 0.95);
            convertMsg.textContent = '‚ö†Ô∏è Requested format not supported by this browser; converted to PNG as fallback.';
          } else {
            convertMsg.textContent = '‚úÖ Conversion complete.';
          }

          convertedImg.src = convertedData;
          downloadLink.href = convertedData;
          const mime = convertedData.substring(5, convertedData.indexOf(';'));
          let ext = (mime.split('/')[1] || 'png').replace('x-icon','png');
          // compute sizes
          const convBytes = dataURLBytes(convertedData);
          const origBytes = originalFileSize || dataURLBytes(originalDataURL);
          const pct = origBytes ? (((origBytes - convBytes) / origBytes) * 100).toFixed(1) : 0;
          convertMsg.innerHTML = `‚úÖ Conversion complete. Original: <strong>${humanSize(origBytes)}</strong> ‚Äî Converted: <strong>${humanSize(convBytes)}</strong> (${pct > 0 ? '‚Üì' + pct + '% smaller' : '‚âà same size'}). <br><small>Click Download to save.</small>`;
          downloadLink.download = `converted-image.${ext}`;
        } catch (finalErr) {
          console.error(finalErr);
          alert('An error occurred during conversion.');
        }
      };
      img.onerror = () => alert('Failed to load image for conversion. Try a different file.');
      img.src = originalDataURL;
    });
  })();
  </script>
</body>
</html>
