<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calorie Calculator ‚Äî Convert Labs</title>
  <meta name="description" content="Estimate calories, protein, carbs, sugar, and fat for thousands of foods from the USDA database with Convert Labs‚Äô free calorie calculator." />
  <meta name="theme-color" content="#1e40af" />

  <!-- ‚úÖ Open Graph -->
  <meta property="og:title" content="Calorie Calculator ‚Äî Convert Labs" />
  <meta property="og:description" content="Estimate calories, protein, carbs, fat, and sugar for thousands of foods using Convert Labs‚Äô free calorie calculator ‚Äî powered by USDA data." />
  <meta property="og:image" content="https://convertlabs.online/assets/guide-calories.png" />
  <meta property="og:url" content="https://convertlabs.online/tools/calorie-calculator.html" />
  <meta property="og:type" content="website" />

  <!-- ‚úÖ AdSense & Analytics -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2490597435056272" crossorigin="anonymous"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z88B03WV7P"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Z88B03WV7P');
  </script>

  <!-- ‚úÖ Breadcrumb Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://convertlabs.online/" },
      { "@type": "ListItem", "position": 2, "name": "Tools", "item": "https://convertlabs.online/tools/tools.html" },
      { "@type": "ListItem", "position": 3, "name": "Calorie Calculator" }
    ]
  }
  </script>

  <link rel="icon" href="https://convertlabs.online/assets/convert-labs-icon.png" />
  <link rel="stylesheet" href="https://convertlabs.online/style.css" />

  <style>
    /* === Layout === */
    body { font-family: system-ui, sans-serif; margin: 0; background: #f8fafc; transition: background .3s, color .3s; }
    main { padding-top: 1rem; }
    .calculator-container {
      max-width: 900px; margin: 120px auto; padding: 2rem;
      background: #fff; border-radius: 12px; box-shadow: 0 4px 14px rgba(0,0,0,0.06);
    }
    h1 { color: #1e3a8a; display: flex; align-items: center; gap: .4rem; }
    input[type="text"], input[type="number"] {
      padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-size: 15px;
    }
    #foodInput { width: 320px; margin-right: 8px; }
    #searchBtn {
      background: #2563eb; color: #fff; border: none; border-radius: 8px;
      padding: 10px 16px; cursor: pointer; font-weight: 500; transition: background .25s;
    }
    #searchBtn:hover { background: #1e40af; }

    .suggestions {
      display: none; position: absolute; left: 50%; transform: translateX(-50%);
      background: #fff; border: 1px solid #ccc; border-radius: 10px;
      width: 70%; margin-top: 6px; text-align: left; max-height: 280px; overflow-y: auto;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 1000;
    }
    .suggestions div { padding: 10px 14px; cursor: pointer; border-bottom: 1px solid #f1f5f9; }
    .suggestions div:hover { background: #f1f5f9; }
    .show-more {
      background: #2563eb; color: #fff; font-weight: 500; border-radius: 0 0 10px 10px;
      text-align: center; padding: 12px; cursor: pointer; transition: background .25s;
    }
    .show-more:hover { background: #1e40af; }

    .result-card { background: #f8fafc; padding: 1rem; border-radius: 10px; margin-top: 1.2rem; }
    .chart-container { height: 240px; margin-top: 8px; }

    #addToTotalBtn { background: #16a34a; color: #fff; border: none; border-radius: 8px; padding: 8px 12px; cursor: pointer; }
    #addToTotalBtn:hover { background: #15803d; }
    #clearBtn { background: #dc2626; color: #fff; border: none; border-radius: 8px; padding: 8px 12px; cursor: pointer; }
    #clearBtn:hover { background: #b91c1c; }

    #clearAllBtn { background: #ef4444; color: #fff; border: none; border-radius: 8px; padding: 8px 12px; cursor: pointer; }

    footer.footer { background: #1e3a8a; color: #fff; text-align: center; padding: 2rem 1rem; margin-top: 3rem; }
    footer.footer a { color: #bfdbfe; text-decoration: none; }
    footer.footer a:hover { color: #fff; }

    /* === Dark Mode === */
    body.dark { background: #0b1220; color: #e6eef8; }
    body.dark .calculator-container { background: #1e293b; color: #e2e8f0; box-shadow: 0 4px 20px rgba(0,0,0,0.5); }
    body.dark input, body.dark #foodInput, body.dark #servingSize {
      background: #0f172a; border: 1px solid #334155; color: #f1f5f9;
    }
    body.dark .suggestions { background: #1e293b; border-color: #334155; }
    body.dark .suggestions div:hover { background: #334155; }
    body.dark .show-more { background: #3b82f6; }
    body.dark .show-more:hover { background: #2563eb; }
    body.dark .result-card { background: #111827; border: 1px solid #334155; }
    body.dark footer.footer { background: #0f172a; color: #e2e8f0; }

    /* === Full Results Modal === */
    .results-modal {
      background: #fff; color: #111; border-radius: 12px; max-width: 700px; width: 94%;
      max-height: 80vh; overflow-y: auto; padding: 0; box-shadow: 0 8px 30px rgba(0,0,0,0.25);
      animation: modalFadeIn 0.25s ease forwards; position: relative;
    }
    .results-modal-header {
      position: sticky; top: 0; background: #f8fafc; padding: 16px; border-bottom: 1px solid #e2e8f0; font-weight: 600; z-index: 10;
    }
    .results-modal-content { padding: 12px 16px; }
    .results-modal-footer {
      position: sticky; bottom: 0; background: #f8fafc; border-top: 1px solid #e2e8f0;
      text-align: right; padding: 10px 16px;
    }
    @keyframes modalFadeIn { from{opacity:0;transform:scale(.97);} to{opacity:1;transform:scale(1);} }
    body.dark .results-modal { background: #1e293b; color: #f1f5f9; }
    body.dark .results-modal-header, body.dark .results-modal-footer { background: #111827; border-color: #334155; }
    body.dark .suggestion-item:hover { background: #334155; }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="navbar" style="background:#1e3a8a;color:#fff;padding:12px 0;">
    <div class="nav-container" style="display:flex;align-items:center;justify-content:space-between;width:90%;max-width:1100px;margin:auto;">
      <a href="https://convertlabs.online/index.html" style="display:flex;align-items:center;text-decoration:none;color:#fff;gap:8px;">
        <img src="https://convertlabs.online/assets/convert-labs-icon.png" style="width:36px;height:36px;">
        <strong>Convert Labs</strong>
      </a>
      <nav class="nav-links">
        <a href="/index.html" style="color:#fff;text-decoration:none;margin:0 8px;">Home</a>
        <a href="/tools/tools.html" class="active" style="color:#fff;">Tools</a>
        <a href="/guides.html" style="color:#fff;">Blog</a>
        <a href="/about.html" style="color:#fff;">About</a>
        <a href="/contact.html" style="color:#fff;">Contact</a>
      </nav>
      <button id="themeToggle" class="theme-toggle" style="background:none;border:none;color:#fff;font-size:1.3rem;cursor:pointer;">üåô</button>
    </div>
  </header>

  <!-- Main -->
  <main>
    <section class="calculator-container">
      <h1>üî• Calorie Calculator</h1>
      <p>Search thousands of foods to estimate calories, protein, carbs, sugar, and fat per 100 g serving.</p>

      <div style="position:relative;">
        <input type="text" id="foodInput" placeholder="Enter food name (e.g., chicken, rice, falafel)" />
        <button id="searchBtn">Search</button>
        <div id="suggestions" class="suggestions"></div>
      </div>

      <div class="serving-input" style="margin-top:1rem;">
        <label for="servingSize"><strong>Serving Size (grams):</strong></label>
        <input type="number" id="servingSize" value="100" min="1" />
      </div>

      <div id="resultContainer"></div>

      <section id="dailySummary" class="result-card" style="display:none;">
        <h3>Daily Summary</h3>
        <div id="dailyTotals"></div>
        <button id="clearAllBtn">Clear All</button>
      </section>

      <hr style="margin-top:18px;border:none;border-top:1px solid rgba(0,0,0,0.06)">
      <p>Want to understand daily calorie needs and meal plans?  
        <a href="https://convertlabs.online/tools/calorie-guide.html">Read our Calorie & Nutrition Guide ‚Üí</a>
      </p>
    </section>
     <div class="about-section">
        <h2>About This Tool</h2>
        <p>
          This calorie calculator retrieves real food data from the official USDA nutrient database (2021‚Äì2023 FNDDS).
          Each result includes the energy (kcal) and macronutrients per 100 g of edible portion.
        </p>
        <ul>
          <li>‚ö° <strong>Calories (kcal)</strong> ‚Äî energy per 100 g</li>
          <li>üçó <strong>Protein</strong> ‚Äî grams of protein</li>
          <li>ü•ñ <strong>Carbs</strong> ‚Äî grams of carbohydrate</li>
          <li>ü•ë <strong>Fat</strong> ‚Äî grams of total fat</li>
          <li>üçØ <strong>Sugar</strong> ‚Äî grams of total sugars</li>
        </ul>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>¬© 2025 Convert Labs. All rights reserved.</p>
    <nav>
      <a href="/about.html">About</a> |
      <a href="/tools/tools.html">Tools</a> |
      <a href="/guides.html">Blog</a> |
      <a href="/privacy.html">Privacy</a> |
      <a href="/terms.html">Terms</a> |
      <a href="/contact.html">Contact</a>
    </nav>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <script>
  // === Theme toggle ===
  const themeBtn = document.getElementById('themeToggle');
  function setTheme(mode){
    if(mode==='dark'){document.body.classList.add('dark');themeBtn.textContent='‚òÄÔ∏è';}
    else {document.body.classList.remove('dark');themeBtn.textContent='üåô';}
    localStorage.setItem('cl_theme', mode);
  }
  (function(){
    const saved = localStorage.getItem('cl_theme');
    setTheme(saved || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'));
  })();
  themeBtn.onclick = ()=>setTheme(document.body.classList.contains('dark')?'light':'dark');
  </script>

  <script>
  window.addEventListener("DOMContentLoaded", () => {
    const foodInput = document.getElementById("foodInput");
    const servingInput = document.getElementById("servingSize");
    const suggestionsBox = document.getElementById("suggestions");
    const resultContainer = document.getElementById("resultContainer");
    const dailySummary = document.getElementById("dailySummary");
    const dailyTotalsDiv = document.getElementById("dailyTotals");
    const clearAllBtn = document.getElementById("clearAllBtn");
    const searchBtn = document.getElementById("searchBtn");
    let foodData=[],foodIndex=[],currentFood=null,chart=null;
    let dailyTotals={kcal:0,protein:0,carbs:0,fat:0,sugar:0};

    Promise.all([
      fetch("https://convertlabs.online/assets/usda_food_nutrition.json").then(r=>r.json()),
      fetch("https://convertlabs.online/assets/extras-oriental-foods.json").then(r=>r.json()),
      fetch("https://convertlabs.online/assets/foods-full.json").then(r=>r.json()),
      fetch("https://convertlabs.online/assets/foods-lite.json").then(r=>r.json())
    ]).then(d=>{foodData=d.flat();buildIndex();});

    const normalize=s=>String(s||"").normalize('NFKD').replace(/\p{Diacritic}/gu,'').toLowerCase().trim();
    function buildIndex(){foodIndex=foodData.map(i=>({name:i.name||i.food,norm:normalize(i.name||i.food),original:i}));}
    function getSuggestions(q){const n=normalize(q);return foodIndex.filter(i=>i.norm.includes(n));}
    function renderSuggestions(q){
      const res=getSuggestions(q);
      if(!res.length){suggestionsBox.style.display='none';return;}
      let html=res.slice(0,20).map(r=>`<div>${r.name}</div>`).join('');
      if(res.length>20) html+=`<div class="show-more">üîç Show all ${res.length} results for ‚Äú${q}‚Äù</div>`;
      suggestionsBox.innerHTML=html;suggestionsBox.style.display='block';
    }

    suggestionsBox.onclick=e=>{
      if(e.target.classList.contains('show-more')) showFullResults(foodInput.value.trim());
      else if(e.target.tagName==='DIV'){foodInput.value=e.target.textContent;suggestionsBox.style.display='none';searchFood();}
    };
    let timer;
    foodInput.oninput=e=>{
      const q=e.target.value.trim();
      clearTimeout(timer);
      if(!q){suggestionsBox.style.display='none';return;}
      timer=setTimeout(()=>renderSuggestions(q),200);
    };
    document.addEventListener('click',e=>{
      if(!suggestionsBox.contains(e.target) && e.target!==foodInput) suggestionsBox.style.display='none';
    });

    function showFullResults(q){
      const res=getSuggestions(q);
      const modal=document.createElement('div');
      modal.style.cssText='position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:9999;';
      const box=document.createElement('div');
      box.className='results-modal';
      box.innerHTML=`
        <div class="results-modal-header">All ${res.length} results for ‚Äú${q}‚Äù</div>
        <div class="results-modal-content">
          ${res.map(r=>`<div class="suggestion-item">${r.name}</div>`).join('')}
        </div>
        <div class="results-modal-footer"><button id="closeModalBtn">Close</button></div>`;
      modal.appendChild(box);document.body.appendChild(modal);
      box.querySelectorAll('.suggestion-item').forEach(d=>d.onclick=()=>{foodInput.value=d.textContent;document.body.removeChild(modal);searchFood();});
      box.querySelector('#closeModalBtn').onclick=()=>document.body.removeChild(modal);
    }

    searchBtn.onclick=searchFood;
    function searchFood(){
      const term=foodInput.value.trim().toLowerCase();
      const match=foodData.find(i=>(i.name||'').toLowerCase()===term)||foodData.find(i=>(i.name||'').toLowerCase().includes(term));
      if(!match){resultContainer.innerHTML=`<p style="color:#b91c1c">‚ùå No results for <strong>${term}</strong>.</p>`;return;}
      currentFood=match;displayResult(match);
    }

    function displayResult(food){
      const serving=parseFloat(servingInput.value)||100,factor=serving/100;
      const scaled={kcal:(food.kcal||0)*factor,protein:(food.protein||0)*factor,carbs:(food.carbs||0)*factor,fat:(food.fat||0)*factor,sugar:(food.sugar||0)*factor};
      resultContainer.innerHTML=`
      <div class="result-card">
        <h3>${food.name}</h3>
        <p><strong>Serving Size:</strong> ${serving} g</p>
        <p><strong>Calories:</strong> ${scaled.kcal.toFixed(1)} kcal</p>
        <p><strong>Protein:</strong> ${scaled.protein.toFixed(1)} g</p>
        <p><strong>Carbs:</strong> ${scaled.carbs.toFixed(1)} g</p>
        <p><strong>Fat:</strong> ${scaled.fat.toFixed(1)} g</p>
        <p><strong>Sugar:</strong> ${scaled.sugar.toFixed(1)} g</p>
        <div class="chart-container"><canvas id="nutrientChart"></canvas></div>
        <div style="margin-top:10px">
          <button id="addToTotalBtn">Add to Daily Summary</button>
          <button id="clearBtn">Clear</button>
        </div>
      </div>`;
      drawChart(scaled);
      document.getElementById('addToTotalBtn').onclick=()=>addToDaily(scaled);
      document.getElementById('clearBtn').onclick=()=>{foodInput.value='';resultContainer.innerHTML='';chart?.destroy();}
    }

    function drawChart(d){
      const ctx=document.getElementById('nutrientChart');if(!ctx)return;
      chart?.destroy();
      const dark=document.body.classList.contains('dark');
      chart=new Chart(ctx,{type:'bar',data:{labels:['Calories','Protein','Carbs','Fat','Sugar'],datasets:[{data:[d.kcal,d.protein,d.carbs,d.fat,d.sugar],backgroundColor:dark?'#60a5fa':'#2563eb',borderRadius:6}]},
      options:{responsive:true,plugins:{legend:{display:false}},scales:{x:{ticks:{color:dark?'#e6eef8':'#111'}},y:{beginAtZero:true,ticks:{color:dark?'#e6eef8':'#111'}}}}});
    }

    function addToDaily(d){for(let k in d)dailyTotals[k]+=d[k];updateSummary();}
    function updateSummary(){
      dailySummary.style.display='block';
      dailyTotalsDiv.innerHTML=`
      <p><strong>Calories:</strong> ${dailyTotals.kcal.toFixed(1)} kcal</p>
      <p><strong>Protein:</strong> ${dailyTotals.protein.toFixed(1)} g</p>
      <p><strong>Carbs:</strong> ${dailyTotals.carbs.toFixed(1)} g</p>
      <p><strong>Fat:</strong> ${dailyTotals.fat.toFixed(1)} g</p>
      <p><strong>Sugar:</strong> ${dailyTotals.sugar.toFixed(1)} g</p>`;
    }
    clearAllBtn.onclick=()=>{dailyTotals={kcal:0,protein:0,carbs:0,fat:0,sugar:0};dailySummary.style.display='none';};
  });
  </script>
</body>
</html>
