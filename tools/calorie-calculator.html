<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Calorie Calculator ‚Äî Check Calories, Protein, Fat & Carbs | Convert Labs</title>

  <!-- ‚úÖ Primary SEO -->
  <meta name="description" content="Find calories, protein, carbs, fat, and sugar in thousands of foods with Convert Labs' free Calorie Calculator ‚Äî powered by USDA nutrition data." />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://convertlabs.online/tools/calorie-calculator.html" />
  <link rel="icon" href="https://convertlabs.online/assets/convert-labs-icon.png" />
  <meta name="theme-color" content="#1e40af" />

  <!-- ‚úÖ Open Graph -->
  <meta property="og:title" content="Calorie Calculator ‚Äî Free Nutrition Tool | Convert Labs" />
  <meta property="og:description" content="Estimate calories, protein, carbs, fat, and sugar for thousands of foods using Convert Labs‚Äô free calorie calculator ‚Äî powered by USDA data." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://convertlabs.online/tools/calorie-calculator.html" />
  <meta property="og:image" content="https://convertlabs.online/assets/convertlabs-banner.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:site_name" content="Convert Labs" />

  <!-- ‚úÖ AdSense & Analytics -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2490597435056272" crossorigin="anonymous"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z88B03WV7P"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Z88B03WV7P');
  </script>

  <link rel="stylesheet" href="https://convertlabs.online/style.css" />

  <style>
    /* ===============================
       üß© Layout & Form Styling
    =============================== */
    .calculator-container {
      max-width: 900px;
      margin: 120px auto;
      padding: 2rem;
      background: var(--card-bg, #fff);
      border-radius: 12px;
      box-shadow: 0 2px 14px rgba(0,0,0,0.06);
    }

    h1 { color: #1e3a8a; }

    input[type="text"], input[type="number"] {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 15px;
      margin-top: 8px;
      box-sizing: border-box;
    }

    #foodInput {
      width: 70%;
      margin-right: 8px;
    }

    #searchBtn {
      background: #2563eb;
      color: #fff;
      border: none;
      padding: 10px 18px;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    #searchBtn:hover { background: #1e40af; }

    .serving-input {
      margin-top: 1.4rem;
    }

    .serving-input input {
      width: 150px;
      padding: 8px;
    }

    /* ===============================
       üîç Suggestion Dropdown
    =============================== */
    .suggestions {
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 10px;
      width: 70%;
      margin-top: 6px;
      text-align: left;
      max-height: 280px;
      overflow-y: auto;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .suggestions div {
      padding: 10px 14px;
      cursor: pointer;
      border-bottom: 1px solid #f1f5f9;
    }

    .suggestions div:hover {
      background: #eff6ff;
    }

    .show-more {
      background: #2563eb;
      color: #fff;
      text-align: center;
      font-weight: 500;
      border-radius: 0 0 10px 10px;
      padding: 10px;
      cursor: pointer;
      transition: background 0.25s ease;
    }

    .show-more:hover { background: #1e40af; }

    /* ===============================
       üìä Result Card
    =============================== */
    .result-card {
      background: #f8fafc;
      padding: 1rem;
      border-radius: 10px;
      margin-top: 1.2rem;
    }

    .chart-container {
      height: 240px;
      margin-top: 8px;
    }

    /* Dark mode */
    body.dark .suggestions {
      background: #1e293b;
      border: 1px solid #334155;
    }

    body.dark .show-more {
      background: #3b82f6;
    }
    body.dark .show-more:hover {
      background: #2563eb;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="navbar">
    <div class="nav-container" style="display:flex;align-items:center;justify-content:space-between;padding:12px 24px;">
      <div style="display:flex;align-items:center;gap:12px">
        <a href="/index.html" style="display:flex;align-items:center;text-decoration:none;color:inherit">
          <img src="https://convertlabs.online/assets/convert-labs-icon.png" alt="Convert Labs Icon" style="width:36px;height:36px"/>
          <span style="font-weight:700;margin-left:6px;color:inherit">Convert Labs</span>
        </a>
      </div>
      <nav class="nav-links">
        <ul style="display:flex;gap:18px;list-style:none;margin:0;padding:0">
          <li><a href="/index.html">Home</a></li>
          <li><a href="/tools/tools.html" class="active">Tools</a></li>
          <li><a href="/guides.html">Blog</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </ul>
      </nav>
      <button id="themeToggle" class="theme-toggle" title="Toggle theme">üåô</button>
    </div>
  </header>

  <!-- Main -->
  <main>
    <section class="calculator-container">
      <h1>üî• Calorie Calculator</h1>
      <p>Search thousands of foods to estimate calories, protein, carbs, sugar, and fat per 100 g serving.</p>

      <div style="position:relative;">
        <input type="text" id="foodInput" placeholder="Enter food name (e.g., chicken breast, rice, falafel)" />
        <button id="searchBtn">Search</button>
        <div id="suggestions" class="suggestions" style="display:none;"></div>
      </div>

      <div class="serving-input">
        <label for="servingSize"><strong>Serving Size (grams):</strong></label>
        <input type="number" id="servingSize" value="100" min="1" />
      </div>

      <div id="resultContainer"></div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    const themeBtn = document.getElementById('themeToggle');
    function setTheme(mode) {
      if(mode==='dark'){
        document.body.classList.add('dark');
        themeBtn.textContent='‚òÄÔ∏è';
      } else {
        document.body.classList.remove('dark');
        themeBtn.textContent='üåô';
      }
      localStorage.setItem('cl_theme', mode);
    }
    (function initTheme(){
      const saved = localStorage.getItem('cl_theme');
      if(saved) setTheme(saved);
      else setTheme(window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light');
    })();
    themeBtn.addEventListener('click',()=>setTheme(document.body.classList.contains('dark')?'light':'dark'));
  </script>

  <script>
  window.addEventListener("DOMContentLoaded", () => {
    const foodInput=document.getElementById("foodInput");
    const searchBtn=document.getElementById("searchBtn");
    const servingInput=document.getElementById("servingSize");
    const suggestionsBox=document.getElementById("suggestions");
    const resultContainer=document.getElementById("resultContainer");

    let foodData=[],foodIndex=[],currentFood=null,chart=null;

    Promise.all([
      fetch("/assets/usda_food_nutrition.json").then(r=>r.json()).catch(()=>[]),
      fetch("/assets/extras-oriental-foods.json").then(r=>r.json()).catch(()=>[])
    ]).then(arr=>{
      foodData=arr.flat(); buildIndex(foodData);
    });

    function normalize(s){return s.toLowerCase().trim();}
    function buildIndex(data){foodIndex=data.map(i=>({name:i.name,norm:normalize(i.name),original:i}));}
    function score(q,i){const n=i.norm;return n===q?100:n.startsWith(q)?80:n.includes(q)?60:0;}
    function getSuggestions(q){q=normalize(q);if(!q)return[];return foodIndex.map(i=>({i,s:score(q,i)})).filter(x=>x.s>0).sort((a,b)=>b.s-a.s).map(x=>x.i);}

    function renderSuggestions(q){
      const res=getSuggestions(q);
      if(!res.length){suggestionsBox.style.display='none';return;}
      let html=res.slice(0,20).map(r=>`<div>${r.name}</div>`).join('');
      if(res.length>20) html+=`<div class="show-more">üîç Show all ${res.length} results for ‚Äú${q}‚Äù</div>`;
      suggestionsBox.innerHTML=html; suggestionsBox.style.display='block';
    }

    suggestionsBox.addEventListener("click",e=>{
      if(e.target.classList.contains("show-more")) showFullResults(foodInput.value.trim());
      else if(e.target.tagName==="DIV"){foodInput.value=e.target.textContent;suggestionsBox.style.display='none';searchFood();}
    });

    function showFullResults(q){
      const res=getSuggestions(q);
      const modal=document.createElement("div");
      modal.style.cssText="position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:2000;";
      const box=document.createElement("div");
      box.style.cssText="background:white;padding:20px;border-radius:12px;max-height:80vh;overflow:auto;width:600px;";
      box.innerHTML=`<h3>All ${res.length} results for ‚Äú${q}‚Äù</h3>`+res.map(r=>`<div style='padding:6px 0;border-bottom:1px solid #eee;cursor:pointer;'>${r.name}</div>`).join('');
      const close=document.createElement("button");
      close.textContent="Close"; close.style="margin-top:10px;padding:8px 14px;background:#2563eb;color:white;border:none;border-radius:8px;cursor:pointer;";
      close.onclick=()=>document.body.removeChild(modal);
      box.appendChild(close); modal.appendChild(box); document.body.appendChild(modal);
      box.querySelectorAll("div").forEach(d=>d.onclick=()=>{foodInput.value=d.textContent;document.body.removeChild(modal);searchFood();});
    }

    foodInput.addEventListener("input",e=>{
      const q=e.target.value.trim(); if(!q){suggestionsBox.style.display='none';return;} renderSuggestions(q);
    });

    searchBtn.addEventListener("click",searchFood);
    function searchFood(){
      const t=foodInput.value.toLowerCase();
      const match=foodData.find(f=>(f.name||'').toLowerCase()===t)||foodData.find(f=>(f.name||'').toLowerCase().includes(t));
      if(!match){resultContainer.innerHTML="<p style='color:red;'>No result found.</p>";return;}
      currentFood=match; displayResult(match);
    }

    function displayResult(f){
      const s=parseFloat(servingInput.value)||100, factor=s/100;
      const val={kcal:f.kcal*factor,protein:f.protein*factor,carbs:f.carbs*factor,fat:f.fat*factor,sugar:f.sugar*factor};
      resultContainer.innerHTML=`<div class='result-card'><h3>${f.name}</h3>
      <p><strong>Serving Size:</strong> ${s} g</p>
      <p><strong>Calories:</strong> ${val.kcal.toFixed(1)} kcal</p>
      <p><strong>Protein:</strong> ${val.protein.toFixed(1)} g</p>
      <p><strong>Carbs:</strong> ${val.carbs.toFixed(1)} g</p>
      <p><strong>Fat:</strong> ${val.fat.toFixed(1)} g</p>
      <p><strong>Sugar:</strong> ${val.sugar.toFixed(1)} g</p>
      <div class='chart-container'><canvas id='nutrientChart'></canvas></div></div>`;
      drawChart(val);
    }

    function drawChart(d){
      const ctx=document.getElementById("nutrientChart").getContext("2d");
      if(chart) chart.destroy();
      chart=new Chart(ctx,{type:"bar",data:{labels:["Calories","Protein","Carbs","Fat","Sugar"],datasets:[{data:[d.kcal,d.protein,d.carbs,d.fat,d.sugar],backgroundColor:"#2563eb",borderRadius:6}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}}}});
    }

    servingInput.addEventListener("input",()=>{if(currentFood) displayResult(currentFood);});
  });
  </script>
</body>
</html>
