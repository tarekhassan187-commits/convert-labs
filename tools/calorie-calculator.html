<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ‚úÖ Social Meta -->
  <meta property="og:title" content="Calorie Calculator ‚Äî Convert Labs" />
<meta property="og:description" content="Estimate calories, protein, carbs, fat, and sugar for thousands of foods using Convert Labs‚Äô free calorie calculator ‚Äî powered by USDA data." />
<meta property="og:image" content="https://convertlabs.online/assets/guide-calories.png" />
<meta property="og:url" content="https://convertlabs.online/tools/calorie-calculator.html" />
<meta property="og:type" content="website" />


  <!-- ‚úÖ AdSense & Analytics -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2490597435056272" crossorigin="anonymous"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z88B03WV7P"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Z88B03WV7P', { debug_mode: true });

  </script>

  <!-- ‚úÖ Breadcrumb JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://convertlabs.online/" },
      { "@type": "ListItem", "position": 2, "name": "Tools", "item": "https://convertlabs.online/tools/tools.html" },
      { "@type": "ListItem", "position": 3, "name": "Calorie Calculator" }
    ]
  }
  </script>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Convert Labs Calorie Calculator",
  "url": "https://convertlabs.online/tools/calorie-calculator.html",
  "applicationCategory": "WebApplication",
  "operatingSystem": "All",
  "description": "Estimate calories, protein, carbs, fat, and sugar in foods using Convert Labs' free USDA-based calorie calculator.",
  "creator": { "@type": "Organization", "name": "Convert Labs" },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "ratingCount": "231"
  }
}

</script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Calorie Calculator ‚Äî Convert Labs</title>

  <meta name="description" content="Estimate calories, protein, carbs, sugar, and fat for thousands of foods from the USDA database. Accurate nutrition info per 100 g or custom serving size." />
  <link rel="icon" href="https://convertlabs.online/assets/convert-labs-icon.png" />
  <meta name="theme-color" content="#1e40af" />
  <link rel="stylesheet" href="https://convertlabs.online/style.css" />

  <style>
   /* üåô Improved & Fixed Dark Mode Theme ‚Äî Convert Labs */
    /* ‚òÄÔ∏è Light Mode Buttons ‚Äî Convert Labs Blue */
button,
.theme-toggle {
  background-color: #2563eb;  /* Convert Labs blue */
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 8px 16px;
  cursor: pointer;
}

button:hover {
  background-color: #1e40af;
}

/* Green & red action buttons */
#addToTotalBtn {
  background-color: #16a34a;
}
#clearBtn {
  background-color: #dc2626;
}

/* Make sure search button stays blue even if browser overrides */
#searchBtn {
  background-color: #2563eb !important;
  color: #fff !important;
}

body.dark {
  background-color: #0b1220 !important;
  color: #e2e8f0 !important;
}

/* Cards and containers */
body.dark .calculator-container,
body.dark main,
body.dark .tool-page {
  background-color: #1b2435 !important;
  color: #f8fafc !important;
  box-shadow: 0 0 12px rgba(0,0,0,0.4) !important;
}

/* Inputs and selects */
body.dark input,
body.dark select {
  background-color: #273248 !important;
  border: 1px solid #3b4764 !important;
  color: #f8fafc !important;
}

body.dark input::placeholder {
  color: #9ca3af !important;
}

/* Suggestions dropdown */
body.dark .suggestions {
  background-color: #273248 !important;
  border-color: #3b4764 !important;
}
body.dark .suggestions div:hover {
  background-color: #334155 !important;
}
body.dark .show-more {
  color: #60a5fa !important;
}

/* Buttons ‚Äî keep Convert Labs blue */
body.dark button,
body.dark .theme-toggle {
  background-color: #2563eb !important; /* Convert Labs blue */
  color: #fff !important;
  border: none !important;
}
body.dark button:hover {
  background-color: #1e40af !important;
}

/* Green & red action buttons */
body.dark #addToTotalBtn {
  background-color: #16a34a !important;
}
body.dark #clearBtn {
  background-color: #dc2626 !important;
}

/* Chart container */
body.dark .chart-container {
  background-color: #111827 !important;
  border-radius: 10px !important;
  padding: 8px !important;
}

/* Result card */
body.dark .result-card {
  background-color: #1e293b !important;
  color: #f8fafc !important;
  border: 1px solid #334155 !important;
}

/* Footer */
body.dark footer {
  background-color: #0f172a !important;
  color: #e2e8f0 !important;
}
body.dark .footer-links a {
  color: #60a5fa !important;
}

/* Theme toggle button */
body.dark .theme-toggle {
  background: #334155 !important;
  color: #facc15 !important; /* golden sun icon */
}

/* Smooth transitions */
body, input, button, .calculator-container, .result-card {
  transition: background-color 0.3s ease, color 0.3s ease;
}
/* üîπ Make search input and button align nicely */
#foodInput {
  width: 280px;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 15px;
  box-sizing: border-box;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  vertical-align: middle;
}

#searchBtn {
  margin-left: 6px;
  padding: 10px 18px;
  font-size: 15px;
  border-radius: 8px;
  vertical-align: middle;
}

/* üß© Responsive design ‚Äî stack vertically on small screens */
@media (max-width: 600px) {
  #foodInput, #searchBtn {
    display: block;
    width: 100%;
    margin: 0 auto;
  }
  #searchBtn {
    margin-top: 10px;
  }
}

  </style>
</head>

<body>
  <!-- Header -->
  <header class="navbar">
    <div class="nav-container">
      <div class="logo">
        <a href="/index.html">
          <img src="https://convertlabs.online/assets/convert-labs-icon.png" alt="Convert Labs Icon" class="logo-img" />
          <span class="brand-text">Convert Labs</span>
        </a>
      </div>
      <nav class="nav-links">
        <ul>
          <li><a href="https://convertlabs.online/index.html">Home</a></li>
          <li><a href="https://convertlabs.online/tools/tools.html" class="active">Tools</a></li>
          <li><a href="https://convertlabs.online/guides.html">Blog</a></li>
          <li><a href="https://convertlabs.online/about.html">About</a></li>
          <li><a href="https://convertlabs.online/contact.html">Contact</a></li>
        </ul>
      </nav>
      <button id="themeToggle" class="theme-toggle">üåô</button>
    </div>
  </header>

  <!-- Main -->
  <main>
    <section class="calculator-container">
      <h1>üî• Calorie Calculator</h1>
      <p>Search thousands of foods to estimate calories, protein, carbs, sugar, and fat per 100 g serving.</p>

      <div style="position: relative;">
        <input type="text" id="foodInput" placeholder="Enter food name (e.g., chicken breast, rice, falafel)" />
        <button id="searchBtn">Search</button>
        <div id="suggestions" class="suggestions" style="display:none;"></div>
      </div>

      <div class="serving-input">
        <label for="servingSize"><strong>Serving Size (grams):</strong></label>
        <input type="number" id="servingSize" value="100" min="1" />
      </div>

      <div id="resultContainer"></div>

<!-- Daily Summary Card -->
<section id="dailySummary" class="result-card" style="display:none; margin-top:1rem;">
  <h3>Daily Summary</h3>
  <div id="dailyTotals"></div>
  <button id="clearAllBtn" style="margin-top:1rem; background:#ef4444;">Clear All</button>
</section>

      <div class="about-section">
        <h2>About This Tool</h2>
        <p>
          This calorie calculator retrieves real food data from the official USDA nutrient database (2021‚Äì2023 FNDDS).
          Each result includes the energy (kcal) and macronutrients per 100 g of edible portion.
        </p>
        <ul>
          <li>‚ö° <strong>Calories (kcal)</strong> ‚Äî energy per 100 g</li>
          <li>üçó <strong>Protein</strong> ‚Äî grams of protein</li>
          <li>ü•ñ <strong>Carbs</strong> ‚Äî grams of carbohydrate</li>
          <li>ü•ë <strong>Fat</strong> ‚Äî grams of total fat</li>
          <li>üçØ <strong>Sugar</strong> ‚Äî grams of total sugars</li>
        </ul>
      </div>
    </section>
  </main>

   <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <div class="footer-brand">
      <img src="https://convertlabs.online/convert-labs-icon.png" alt="Convert Labs Icon" class="footer-logo" />
      <span class="footer-text">Convert Labs</span>
    </div>
    <p>¬© 2025 Convert Labs. All rights reserved.</p>
    <nav class="footer-links" aria-label="Footer">
      <a href="https://convertlabs.online/about.html">About</a> |
      <a href="https://convertlabs.online/tools/tools.html">Tools</a> |
      <a href="https://convertlabs.online/guides.html">Blog</a> |
      <a href="https://convertlabs.online/privacy.html">Privacy</a> |
      <a href="https://convertlabs.online/disclaimer.html">Disclaimer</a> |
      <a href="https://convertlabs.online/terms.html">Terms of Use</a> |
      <a href="https://convertlabs.online/contact.html">Contact</a>
    </nav>
  </footer>

  <!-- Script -->
    <style>
    body.dark {
      --bg: #1e293b;
      color: #f1f5f9;
      background: #0f172a;
    }
    body.dark input, body.dark button, body.dark .suggestions, body.dark .result-card {
      background: #334155;
      color: #f1f5f9;
      border-color: #475569;
    }
    body.dark .result-card p, 
    body.dark .result-card h3, 
    body.dark .about-section, 
    body.dark .about-section h2, 
    body.dark .about-section li {
      color: #f1f5f9;
    }
      /* üîπ Match input style to Kitchen Converter */
#foodInput {
  width: 280px;
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 15px;
  box-sizing: border-box;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

#foodInput:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 4px rgba(37, 99, 235, 0.4);
}

/* Keep Search button aligned nicely */
#searchBtn {
  margin-left: 6px;
  padding: 10px 18px;
  font-size: 15px;
  border-radius: 8px;
}

  </style>
<!-- Load Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<script>
window.addEventListener("DOMContentLoaded", () => {
  const themeBtn = document.getElementById("themeToggle");
  const foodInput = document.getElementById("foodInput");
  const servingInput = document.getElementById("servingSize");
  const suggestionsBox = document.getElementById("suggestions");
  const resultContainer = document.getElementById("resultContainer");
  const dailySummary = document.getElementById("dailySummary");
  const dailyTotalsDiv = document.getElementById("dailyTotals");
  const clearAllBtn = document.getElementById("clearAllBtn");
  const searchBtn = document.getElementById("searchBtn");

  let foodData = [];
  let foodIndex = [];
  let currentFood = null;
  let chart = null;
  let dailyTotals = { kcal:0, protein:0, carbs:0, fat:0, sugar:0 };

  const dataStatusEl = document.getElementById('dataStatus');

  // Load data
  Promise.all([
    fetch("https://convertlabs.online/assets/usda_food_nutrition.json").then(r => r.json()).catch(() => []),
    fetch("https://convertlabs.online/assets/extras-oriental-foods.json").then(r => r.json()).catch(() => []),
    fetch("https://convertlabs.online/assets/foods-full.json").then(r => r.json()).catch(() => []),
    fetch("https://convertlabs.online/assets/foods-lite.json").then(r => r.json()).catch(() => [])
  ])
  .then(dataArrays => {
    const combined = dataArrays.flat();
    const seen = new Set();
    foodData = combined.filter(item => {
      const key = (item.name || item.food || "").toLowerCase();
      if (seen.has(key)) return false;
      seen.add(key);
      return true;
    });

    const total = foodData.length.toLocaleString();
    console.log(`‚úÖ Food data loaded: ${total} unique items total`);

    // Build index
    buildIndex(foodData);
    if (dataStatusEl)
      dataStatusEl.innerHTML = `Database: <strong>${total}</strong> foods loaded ‚úÖ`;
  })
  .catch(err => {
    console.error("‚ùå Error loading food data:", err);
    if (dataStatusEl) {
      dataStatusEl.textContent = "‚ö†Ô∏è Database failed to load ‚Äî please refresh.";
      dataStatusEl.style.color = "#b91c1c";
    }
  });

  // ------------------ Search Index ------------------
  function normalizeText(s) {
    return String(s || "")
      .normalize("NFKD")
      .replace(/\p{Diacritic}/gu, "")
      .toLowerCase()
      .trim();
  }

  function buildIndex(data) {
    foodIndex = data.map(item => {
      const name = item.name || item.food || "";
      const normName = normalizeText(name);
      const tokens = Array.from(new Set(normName.split(/\s+/).filter(Boolean)));
      return { name, normName, tokens, original: item };
    });
    console.log(`üîé Search index built (${foodIndex.length} items)`);
  }

  function scoreItem(qNorm, item) {
    const n = item.normName;
    const tokens = item.tokens;
    if (n === qNorm) return 100;
    if (n.startsWith(qNorm)) return 85;
    for (const t of tokens) if (t === qNorm) return 75;
    if (n.includes(qNorm)) return 55;
    return 0;
  }

  function getSuggestions(q, max = 20) {
    const qNorm = normalizeText(q);
    if (!qNorm) return [];
    const scored = [];
    for (const item of foodIndex) {
      const s = scoreItem(qNorm, item);
      if (s > 0) scored.push({ item, score: s });
    }
    scored.sort((a, b) => b.score - a.score);
    return { results: scored.slice(0, max).map(s => s.item), total: scored.length };
  }

  function highlightMatch(text, query) {
    const norm = normalizeText(text);
    const q = normalizeText(query);
    const index = norm.indexOf(q);
    if (index === -1) return text;
    const before = text.slice(0, index);
    const match = text.slice(index, index + q.length);
    const after = text.slice(index + q.length);
    return `${before}<strong style="color:#2563eb;">${match}</strong>${after}`;
  }

  function renderSuggestions(q) {
    const { results, total } = getSuggestions(q);
    if (results.length === 0) {
      suggestionsBox.style.display = "none";
      return;
    }
    const limited = results.map(r => `<div>${highlightMatch(r.name, q)}</div>`).join("");
    let html = limited;
    if (total > results.length) {
      html += `<div class="show-more">Show all ${total} results for ‚Äú${q}‚Äù</div>`;
    }
    suggestionsBox.innerHTML = html;
    suggestionsBox.style.display = "block";
  }

  // Show more modal
  function showFullResults(q) {
    const { results, total } = getSuggestions(q, 100);
    let html = `<div style="max-height:400px;overflow:auto;padding:8px;">`;
    html += `<h4 style="margin:0 0 10px;">All ${total} results for ‚Äú${q}‚Äù</h4>`;
    html += results.map(r => `<div class="suggestion-item">${highlightMatch(r.name, q)}</div>`).join("");
    html += `</div>`;

    const modal = document.createElement("div");
    modal.style.cssText = `
      position:fixed;inset:0;background:rgba(0,0,0,0.4);
      display:flex;align-items:center;justify-content:center;z-index:1000;
    `;
    const box = document.createElement("div");
    box.style.cssText = `
      background:#fff;padding:20px;max-width:600px;width:90%;
      border-radius:12px;max-height:80vh;overflow:auto;
    `;
    box.innerHTML = html + `<button id="closeModalBtn" style="margin-top:10px;">Close</button>`;
    modal.appendChild(box);
    document.body.appendChild(modal);

  box.querySelectorAll(".suggestion-item").forEach(div => {
  div.addEventListener("click", () => {
    foodInput.value = div.textContent;
    document.body.removeChild(modal);

    // ‚úÖ Close dropdown if it was open
    suggestionsBox.style.display = "none";

    searchFood();
  });
});



    document.getElementById("closeModalBtn").addEventListener("click", () => {
      document.body.removeChild(modal);
    });
  }

  suggestionsBox.addEventListener("click", e => {
    if (e.target.classList.contains("show-more")) {
      const term = foodInput.value.trim();
      showFullResults(term);
    } else if (e.target.tagName === "DIV") {
      const name = e.target.textContent;
      foodInput.value = name;
      suggestionsBox.style.display = "none";
      searchFood();
    }
  });

  // Debounce input listener
  let debounceTimer;
  foodInput.addEventListener("input", e => {
    const q = e.target.value.trim();
    clearTimeout(debounceTimer);
    if (!q) {
      suggestionsBox.style.display = "none";
      return;
    }
    debounceTimer = setTimeout(() => renderSuggestions(q), 200);
  });

  // ------------------ UI & Logic ------------------
  themeBtn.addEventListener("click", () => {
    document.body.classList.toggle("dark");
    themeBtn.textContent = document.body.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
    if (chart) updateChartColors();
  });

  searchBtn.addEventListener("click", searchFood);

  function searchFood() {
    const term = foodInput.value.trim().toLowerCase();
    const match = foodData.find(item => item.name.toLowerCase() === term)
      || foodData.find(item => item.name.toLowerCase().includes(term));
    if (!match) {
      resultContainer.innerHTML = `<p style="color:#b91c1c;">‚ùå No results for <strong>${term}</strong>.</p>`;
      currentFood = null;
      if (chart) chart.destroy();
      return;
    }
    currentFood = match;
    displayResult(match);
  }

  function displayResult(food) {
    const serving = parseFloat(servingInput.value) || 100;
    const factor = serving / 100;
    const scaled = {
      kcal: food.kcal * factor,
      protein: food.protein * factor,
      carbs: food.carbs * factor,
      fat: food.fat * factor,
      sugar: food.sugar * factor
    };
    resultContainer.innerHTML = `
      <div class="result-card">
        <h3>${food.name}</h3>
        <p><strong>Serving Size:</strong> ${serving} g</p>
        <p><strong>Calories:</strong> ${scaled.kcal.toFixed(1)} kcal</p>
        <p><strong>Protein:</strong> ${scaled.protein.toFixed(1)} g</p>
        <p><strong>Carbs:</strong> ${scaled.carbs.toFixed(1)} g</p>
        <p><strong>Fat:</strong> ${scaled.fat.toFixed(1)} g</p>
        <p><strong>Sugar:</strong> ${scaled.sugar.toFixed(1)} g</p>
        <div class="chart-container"><canvas id="nutrientChart"></canvas></div>
        <button id="addToTotalBtn" style="margin-top:1rem;background:#22c55e;">Add to Daily Summary</button>
        <button id="clearBtn" style="margin-top:1rem;background:#ef4444;">Clear</button>
      </div>`;
    drawChart(scaled);

    document.getElementById("addToTotalBtn").addEventListener("click", () => addToDailyTotal(scaled));
    document.getElementById("clearBtn").addEventListener("click", () => {
      foodInput.value = "";
      servingInput.value = 100;
      resultContainer.innerHTML = "";
      if (chart) chart.destroy();
    });
  }

  function drawChart(data) {
    const ctx = document.getElementById("nutrientChart").getContext("2d");
    if (chart) chart.destroy();
    const darkMode = document.body.classList.contains("dark");
    const textColor = darkMode ? "#f1f5f9" : "#111";
    const barColor = darkMode ? "#60a5fa" : "#2563eb";
    chart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["Calories", "Protein", "Carbs", "Fat", "Sugar"],
        datasets: [{ label: "Per Serving", data: [data.kcal, data.protein, data.carbs, data.fat, data.sugar], borderRadius: 6, backgroundColor: barColor }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { display: false } },
        scales: {
          x: { ticks: { color: textColor } },
          y: { beginAtZero: true, ticks: { color: textColor } }
        }
      }
    });
  }

  function addToDailyTotal(data) {
    for (const k in data) dailyTotals[k] += data[k];
    updateDailySummary();
  }

  function updateDailySummary() {
    dailySummary.style.display = "block";
    dailyTotalsDiv.innerHTML = `
      <p><strong>Calories:</strong> ${dailyTotals.kcal.toFixed(1)} kcal</p>
      <p><strong>Protein:</strong> ${dailyTotals.protein.toFixed(1)} g</p>
      <p><strong>Carbs:</strong> ${dailyTotals.carbs.toFixed(1)} g</p>
      <p><strong>Fat:</strong> ${dailyTotals.fat.toFixed(1)} g</p>
      <p><strong>Sugar:</strong> ${dailyTotals.sugar.toFixed(1)} g</p>`;
  }

  clearAllBtn.addEventListener("click", () => {
    dailyTotals = { kcal:0, protein:0, carbs:0, fat:0, sugar:0 };
    dailySummary.style.display = "none";
  });

  function updateChartColors() {
    if (!chart) return;
    const darkMode = document.body.classList.contains("dark");
    const textColor = darkMode ? "#f1f5f9" : "#111";
    const barColor = darkMode ? "#60a5fa" : "#2563eb";
    chart.data.datasets[0].backgroundColor = barColor;
    chart.options.scales.x.ticks.color = textColor;
    chart.options.scales.y.ticks.color = textColor;
    chart.update();
  }

  servingInput.addEventListener("input", () => { if (currentFood) displayResult(currentFood); });
});
</script>


</body>
</html>






















